<!-- Archive Item Card Template (2x5) -->
<!-- Wiederverwendbar für Audio CD, DVD, Bluray, Data -->
<!-- Parameter: item (dict mit type, title, artist, year, tracks, size, date, cover, iso_path) -->

<div class="archive-card" data-type="{{ item.type }}" data-path="{{ item.iso_path }}">
    <!-- Cover/Thumbnail -->
    <div class="archive-card-cover">
        {% if item.cover %}
            <img src="{{ item.cover }}" alt="{{ item.title }}" loading="lazy">
        {% else %}
            <!-- Fallback-Icon basierend auf Typ -->
            <div class="archive-card-placeholder">
                {% if item.type == 'audio' %}
                    <img src="{{ url_for('static', filename='img/audio.svg') }}" alt="Audio CD">
                {% elif item.type == 'dvd' %}
                    <img src="{{ url_for('static', filename='img/dvd.svg') }}" alt="DVD">
                {% elif item.type == 'bluray' %}
                    <img src="{{ url_for('static', filename='img/bluray.svg') }}" alt="Blu-ray">
                {% else %}
                    <img src="{{ url_for('static', filename='img/data.svg') }}" alt="Data">
                {% endif %}
            </div>
        {% endif %}
    </div>
    
    <!-- Content -->
    <div class="archive-card-content">
        <!-- Titel -->
        <h3 class="archive-card-title" title="{{ item.title }}">{{ item.title }}</h3>
        
        <!-- Artist/Interpret (nur bei Audio/Video) -->
        {% if item.artist %}
            <p class="archive-card-artist">{{ item.artist }}</p>
        {% endif %}
        
        <!-- Metadaten -->
        <div class="archive-card-meta">
            {% if item.year %}
                <span class="meta-item">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/>
                    </svg>
                    {{ item.year }}
                </span>
            {% endif %}
            
            {% if item.tracks %}
                <span class="meta-item">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
                    </svg>
                    {{ item.tracks }}
                </span>
            {% endif %}
            
            {% if item.duration %}
                <span class="meta-item">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                    </svg>
                    {{ item.duration }}
                </span>
            {% endif %}
        </div>
        
        <!-- Technische Daten -->
        <div class="archive-card-technical">
            <span class="tech-item" title="Dateigröße">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"/>
                </svg>
                {{ item.size }}
            </span>
            
            <span class="tech-item" title="Erstelldatum">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                </svg>
                {{ item.date }}
            </span>
        </div>
        
        <!-- Actions (optional) -->
        <div class="archive-card-actions">
            <button class="btn-card-action" onclick="openMetadataEditor('{{ item.iso_path }}')" title="Metadaten bearbeiten">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                </svg>
            </button>
            
            {% if item.type in ['audio', 'dvd', 'bluray'] %}
            <button class="btn-card-action" onclick="searchMetadata('{{ item.type }}', '{{ item.iso_path }}')" title="Metadaten suchen">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                </svg>
            </button>
            {% endif %}
            
            <button class="btn-card-action" onclick="downloadISO('{{ item.iso_path }}')" title="ISO herunterladen">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"/>
                </svg>
            </button>
        </div>
    </div>
</div>
